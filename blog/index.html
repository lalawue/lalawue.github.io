<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN">
  <head>
    <title>Sucha's Blog - Welcome</title>
    <meta name="generator" content="emacs-wiki-journal.el" />
    <meta http-equiv="Content-Type" content=" text/html; charset=utf-8" />
    <meta name="author" content="Sucha" />
    <meta name="copyright" content="GFDL, http://www.gnu.org/licenses/fdl.html" />
    <meta name="keywords" content="Sucha, Suchang, programming, GNU, Unix, Linux, Slackware, Emacs, elisp" />
    <meta name="description" content="Sucha's blog" />
    <link rev="made" href="mailto:suchaaa@gmail.com" />
    <link rel="shortcut icon" href="../images/ico.png" />
    <link rel="stylesheet" type="text/css" href="../styles/blog.css" />
    <link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml" />
    <!--[if lte IE 6]><link rel="stylesheet" type="text/css" href="../styles/ie.css" /><![endif]-->
  </head>
  <body>
    <div id="body">
      <div id="text">
	<h1>Sucha's Blog ~ Welcome</h1>
	<!-- Page published by Emacs Wiki begins here -->
<h2>14年12月29日 周一 10:22</h2>

<h3>My First Mac App - TcBrowserMac</h3>

<p>
开始练习 Mac App 的编写，与 iOS App 有许多不同，昨天花了一天时间，山寨了
一个 TcBrowser，一个筛选算法题目的小软件，作者博客页面
<a href="http://zh.lucida.me/blog/top-code-offline-browser/">Top&#32;Coder算法题目浏览器</a>。

</p>

<p>
也许是我没有深入开发的原因，感觉不再像 iOS 一样，需要多个 View
Controller 了，使得我一开始就考虑模块划分的问题，虽然这个软件是个小工具
而已。

</p>

<p>
然后考虑像 win 一样，可以在文件夹下面打开访问当前文件夹的目录，由于 Mac
是打包成 bundle 来跑的，界面上的 app 其实是个文件夹，所以我之前整的方法
都不对，需要通过 [[NSBundle mainBundle] bundlePath] 来获取。

</p>

<p>
然后 StoryBoard 方面，由于软件是个窗口，所以大小是可变的，一开始就得考虑
自动布局的问题，Apple 文档那边对于自动布局长篇大论不说，还有一个用于自动
布局的 DSL，足够复杂了，昨天时间有限，我是没有看透。

</p>

<p>
实际是用 StoryBoard 点击 nib 后 Editor -> Resolve Auto Layout Issues 上
面的 Add Missing Constraints 来做的，每添加一个控件，就要 Add 一次。

</p>

<p>
然后感觉还跟控件添加的顺序有关系，Xcode 会猜测这个控件到底是对齐那一边，
依据的是 superview 还是哪个 view，这些 constraints 在 inspector 里面几乎
不能配置，我本来一个 webview 靠右是要左对齐的，然后右边让它跟着
superview 无限扩展，可是如果给弄成右对齐就改不了了，反正我是没弄懂怎么改，
所以我只好把 constraints 删除又添加一遍。

</p>

<p>
然后是 tableview，与 iOS 也有些不同，没有了 cell 的概念，取而代之的是
NSView，没有了 index，而是一个 NSTableColumn 的结构，table column 的
identifier 可以设置，重用时也是依据这些 identifier。不过 column 的
header title 我折腾了不少时间，然后是宽度也是通过 column 设置的。

</p>

<p>
跟 iOS 一样，只需要设置两个函数就可以让数据上来了，一个是
numberOfRowsInTableView，一个是 viewForTableColumn。

</p>

<p>
最后是软件图标的问题，感觉与 iOS 也不一样，也许是我之前没有那么正规军的
原因。我是想要 Dock 上面自定义图标，谷歌到的方法也只是动态设置的而已，关
闭的时候很明显会显示回默认的那个。

</p>

<p>
实际上呢，需要设置的方法在 <a href="https://developer.apple.com/library/mac/documentation/GraphicsAnimation/Conceptual/HighResolutionOSX/Optimizing/Optimizing.html#//apple_ref/doc/uid/TP40012302-CH7-SW3">Apple&#32;Doc&#32;-&#32;Optimizing&#32;for&#32;High&#32;Resolution</a>，
具体是需要下面几个大小的图标，然后放到 icon_name.iconset 这个文件夹下面

</p>

<pre class="example">icon_16x16.png
icon_16x16@2x.png
icon_32x32.png
icon_32x32@2x.png
icon_128x128.png
icon_128x128@2x.png
icon_256x256.png
icon_256x256@2x.png
icon_512x512.png
icon_512x512@2x.png
</pre>

<p>
终端下使用命令

</p>

<pre class="source">$ iconutil -c icns icon_name.iconset
</pre>


 来生成，然后拖到工程文件里面就好了，默认就是那个图标了，这个也折腾了不
<blockquote>
<p>
 少时间 ，第一个 Mac App 终于完成了，地址在这里 <a href="http://pan.baidu.com/s/1sjv3gNN">TcBrowserMac</a>，密码是宇宙终极答案。

</p>
</blockquote>

<h4><a href="CategoryProgramming.html">CategoryProgramming</a> / <a href="2014-12.html#p6">Permalink</a> </h4>

<p>
<!-- date: 2014-12-29T10:22:03+0800 -->

</p>

<h2>14年12月27日 周六 17:58</h2>

<h3>ObjC Animation</h3>

<p>
其实去年在做那个 App 的时候就有使用过简单的动画，接口是 UIView 的
animateWithDuration，只是平移了一下 view。

</p>

<p>
今天学到的 iOS 的动画，分成几个部分，分别是针对 view 的，针对 controller
的过渡动画，还有就是自由度很高的交互动画，交互动画其实可以看成是最简单的
游戏了。

</p>

<p>
针对 view 的动画除了我之前用的 animateWithDuration 方法，其实 view 的很
多属性都是可以更改数值然后交给系统去实现动作的，只需要创建 animation 设
置动画属性，然后使用 view 的 layer 实体 addAnimation 就好。

</p>

<p>
view 中的 layer 需要说一下，为了实现动画，有多个副本，一个是表示最终状态
的（model layer），一个是表示的是当前的（presentation layer），
presentation 是专门用来显示动画的，结束后就被设成了 model 的状态。

</p>

<p>
后面例子的还用画图实现了一个动画，画图部分就纯是 CPU 来计算了。另外一个
部分是 controller 的转场动画，例子比我之前的平移复杂了一些，用了系统给出
的 delegate 接口来设置，总之这也是可以自定义的。

</p>

<p>
还有最后的可交互动画，实际上就跟游戏没啥区别了，动画部分的数值需要不断根
据用户的交互来获取、计算，然后设置具体的显示，这些计算实际上是在显示驱动
的每一帧间隔里面做的。

</p>

<p>
cocos2dx 的底层部分也是通过 display link 来驱动实现每一帧的画图与计算，
然后用户的输入是通过 UIView 的 UIKeyInput delegate 来做的，而不像这个例
子通过手势控件 recognizer 来做的， cocos2dx 的方式更灵活一些，不过两者对
于动画显示、操作最底层的部分是相似的。

</p>

<p>
没想到两者后底层部分的驱动结构其实是一样的，display link 与 run loop。

</p>

<h4><a href="CategoryProgramming.html">CategoryProgramming</a> / <a href="2014-12.html#p5">Permalink</a> </h4>

<p>
<!-- date: 2014-12-27T17:58:25+0800 -->

</p>

<h2>14年12月25日 周四 22:16</h2>

<h3>ObjC Core Data</h3>

<p>
Core Data 市面上的文章太多，不管是中文还是英文，所以打算以自己的理解从简
描述。

</p>

<p>
先从上到下、从大到小理解概念。关键的概念其实只有 4 个：

</p>

<ul>
<li>NSManagedModel：数据模型，数据的结构
</li>
<li>NSManagedModelContext：具体存取增删数据的接口
</li>
<li>NSPersistentStoreCoordinator：连接 context 与 persistent store 的中间
   件
</li>
<li>NSPersistentStore：数据库，具体的文件
</li>
</ul>

<p>
如果还要简约，那概念上只需要关注 model 跟 store 就可以了，一个是 schema，
模型结构，比如一张表，另一个是数据库，具体到文件。

</p>

<p>
描述概念间相互关系的图表网上太多，我简略看了一下接口，了解到的是目前 8.1
的 SDK下，一个 context 对应一个 model 和一个 coordinator，一个
coordinator 可以连接多个 store，相互的关系可以脑补了吧。

</p>

<p>
下面的代码只要建立一个 TestCoreData 的头文件调用一下最下面的 test 就可以
编译跑了，粗看有点多，其实分开函数看就好了，函数名很直白了。

</p>

<pre class="source"><span class="keyword">@interface</span> <span class="type">UserInfo</span> : <span class="type">NSManagedObject</span>
@property (<span class="type">nonatomic</span>,<span class="type">copy</span>) <span class="type">NSString</span> *<span class="variable-name">name</span>;
@property (<span class="type">nonatomic</span>,<span class="type">copy</span>) <span class="type">NSNumber</span> *<span class="variable-name">uid</span>;
<span class="keyword">@end</span>

<span class="keyword">@implementation</span> <span class="type">UserInfo</span>
@dynamic name;
@dynamic uid;
<span class="keyword">@end</span>

<span class="keyword">@implementation</span> <span class="type">TestCoreData</span>
- (<span class="type">NSURL</span>*)<span class="function-name">createStoreDir</span>
{
    <span class="type">NSFileManager</span> *<span class="variable-name">fm</span> = [[<span class="type">NSFileManager</span> alloc] init];
    <span class="type">NSError</span> *<span class="variable-name">error</span> = <span class="constant">nil</span>;
    <span class="type">NSURL</span> *<span class="variable-name">durl</span> = [fm URLForDirectory:NSDocumentDirectory
                             inDomain:NSUserDomainMask
                    appropriateForURL:<span class="constant">nil</span>
                               create:<span class="constant">YES</span>
                                error:&amp;error];
    <span class="keyword">if</span> (durl == <span class="constant">nil</span>) {
        NSLog(@<span class="string">"Fail to create document dir:%@"</span>, [error localizedDescription]);
        <span class="keyword">return</span> <span class="constant">nil</span>;
    }
    <span class="keyword">return</span> durl;
}

- (<span class="type">NSManagedObjectModel</span>*)<span class="function-name">createModel</span>
{
    <span class="type">NSManagedObjectModel</span> *<span class="variable-name">moModel</span> = [[<span class="type">NSManagedObjectModel</span> alloc] init];
    
    <span class="comment-delimiter">// </span><span class="comment">create the entity
</span>    <span class="type">NSEntityDescription</span> *<span class="variable-name">infoEntity</span> = [[<span class="type">NSEntityDescription</span> alloc] init];
    [infoEntity setName:@<span class="string">"UserInfo"</span>];
    [infoEntity setManagedObjectClassName:@<span class="string">"UserInfo"</span>];
    
    [moModel setEntities:[<span class="type">NSArray</span> arrayWithObject:infoEntity]];
    
    <span class="comment-delimiter">// </span><span class="comment">add the attribute
</span>    <span class="type">NSAttributeDescription</span> *<span class="variable-name">nameAttr</span> = [[<span class="type">NSAttributeDescription</span> alloc] init];
    [nameAttr setName:@<span class="string">"name"</span>];
    [nameAttr setAttributeType:NSStringAttributeType];
    [nameAttr setOptional:<span class="constant">NO</span>];
    
    <span class="type">NSAttributeDescription</span> *<span class="variable-name">uidAttr</span> = [[<span class="type">NSAttributeDescription</span> alloc] init];
    [uidAttr setName:@<span class="string">"uid"</span>];
    [uidAttr setAttributeType:NSInteger32AttributeType];
    [uidAttr setOptional:<span class="constant">NO</span>];
    
    <span class="comment-delimiter">// </span><span class="comment">set the properties for the entity
</span>    <span class="type">NSArray</span> *<span class="variable-name">ary</span> = [<span class="type">NSArray</span> arrayWithObjects:nameAttr, uidAttr, <span class="constant">nil</span>];
    [infoEntity setProperties:ary];
    
    <span class="comment-delimiter">// </span><span class="comment">add localization dictionary
</span>    <span class="type">NSMutableDictionary</span> *<span class="variable-name">localDict</span> = [<span class="type">NSMutableDictionary</span> dictionary];
    [localDict setObject:@<span class="string">"name"</span> forKey:@<span class="string">"Property/name/Entity/UserInfo"</span>];
    [localDict setObject:@<span class="string">"uid"</span> forKey:@<span class="string">"Property/uid/Entity/UserInfo"</span>];
    
    [moModel setLocalizationDictionary:localDict];
    
    <span class="keyword">return</span> moModel;
}

- (<span class="type">NSManagedObjectContext</span>*)<span class="function-name">createModelObjectContext</span>:(<span class="type">NSManagedObjectModel</span>*) <span class="variable-name">moModel</span>
{
    <span class="type">NSManagedObjectContext</span> *<span class="variable-name">moMOC</span> = [[<span class="type">NSManagedObjectContext</span> alloc] init];
    <span class="type">NSPersistentStoreCoordinator</span> *<span class="variable-name">co</span> =
           [[<span class="type">NSPersistentStoreCoordinator</span> alloc] initWithManagedObjectModel:moModel];
    
    [moMOC setPersistentStoreCoordinator:co];
    
    <span class="type">NSString</span> *<span class="variable-name">store_type</span> = NSBinaryStoreType; <span class="comment-delimiter">// </span><span class="comment">NSSQLiteStoreType
</span>    <span class="type">NSString</span> *<span class="variable-name">store_filename</span> = [<span class="type">NSString</span> stringWithFormat:@<span class="string">"storeExample.bin"</span>];
    
    <span class="type">NSError</span> *<span class="variable-name">error</span> = <span class="constant">nil</span>;
    <span class="type">NSURL</span> *<span class="variable-name">store_url</span> = [[<span class="keyword">self</span> createStoreDir]
           URLByAppendingPathComponent:store_filename];
    
    NSLog(@<span class="string">"store url: %@"</span>, [store_url absoluteString]);

    <span class="type">NSPersistentStore</span> *<span class="variable-name">pstore</span> = [co addPersistentStoreWithType:store_type
                                                 configuration:<span class="constant">nil</span>
                                                           URL:store_url
                                                       options:<span class="constant">nil</span>
                                                         error:&amp;error];
    <span class="keyword">if</span> (pstore == <span class="constant">nil</span>) {
        NSLog(@<span class="string">"Fail to create persistence store %@"</span>, [error localizedDescription]);
        <span class="keyword">return</span> <span class="constant">nil</span>;
    }
    <span class="keyword">return</span> moMOC;
}

- (<span class="type">BOOL</span>)<span class="function-name">test</span>
{
    <span class="type">NSManagedObjectModel</span> *<span class="variable-name">moModel</span> = [<span class="keyword">self</span> createModel];
    <span class="type">NSManagedObjectContext</span> *<span class="variable-name">moMOC</span> = [<span class="keyword">self</span> createModelObjectContext:moModel];
    
    <span class="type">NSEntityDescription</span> *<span class="variable-name">infoEntity</span> =
          [[moModel entitiesByName] objectForKey:@<span class="string">"UserInfo"</span>];
    
    <span class="comment-delimiter">// </span><span class="comment">insert
</span>    <span class="type">int</span> <span class="variable-name">i</span>;
    <span class="keyword">for</span> (i=0; i&lt;10; i++) {
        <span class="type">UserInfo</span> *<span class="variable-name">info</span> = [[<span class="type">UserInfo</span> alloc] initWithEntity:infoEntity
                           insertIntoManagedObjectContext:moMOC];
        info.name = [<span class="type">NSString</span> stringWithFormat:@<span class="string">"n%d"</span>, i];
        info.uid = [<span class="type">NSNumber</span> numberWithInt:i];
    }
    
    <span class="comment-delimiter">// </span><span class="comment">save
</span>    <span class="type">NSError</span> *<span class="variable-name">error</span> = <span class="constant">nil</span>;
    [moMOC save:&amp;error];
    <span class="keyword">if</span> (error) {
        NSLog(@<span class="string">"Fail to save: %@"</span>, [error localizedDescription]);
        <span class="keyword">return</span> false;
    }
    
<span class="preprocessor">#if</span> 1
    <span class="comment-delimiter">// </span><span class="comment">query &amp; delete
</span>    <span class="type">NSFetchRequest</span> *<span class="variable-name">req</span> = [[<span class="type">NSFetchRequest</span> alloc] init];
    [req setEntity:infoEntity];
    
    <span class="type">NSSortDescriptor</span> *<span class="variable-name">sdesc</span> = 
          [[<span class="type">NSSortDescriptor</span> alloc] initWithKey:@<span class="string">"uid"</span> ascending:<span class="constant">YES</span>];
    [req setSortDescriptors:[<span class="type">NSArray</span> arrayWithObject:sdesc]];
    
    <span class="type">NSArray</span> *<span class="variable-name">ary</span> = [moMOC executeFetchRequest:req error:&amp;error];
    <span class="keyword">if</span> (error &amp;&amp; (ary==<span class="constant">nil</span>)) {
        NSLog(@<span class="string">"Fail to fetch object: %@"</span>, [error localizedDescription]);
        <span class="keyword">return</span> false;
    }
    <span class="keyword">for</span> (<span class="type">UserInfo</span> *<span class="variable-name">info</span> <span class="keyword">in</span> ary) {
        NSLog(@<span class="string">"user info name:%@, uid:%d"</span>, info.name, [info.uid intValue]);
        [moMOC deleteObject:info];
    }

    <span class="comment-delimiter">// </span><span class="comment">save again
</span>    [moMOC save:&amp;error];
    <span class="keyword">if</span> (error) {
        NSLog(@<span class="string">"Fail to save: %@"</span>, [error localizedDescription]);
        <span class="keyword">return</span> false;
    }
<span class="preprocessor">#endif</span>
    <span class="keyword">return</span> true;
}
<span class="keyword">@end</span>
</pre>


更具体细节的东西，比如 Predicates、搜索结果的缓存，可以需要的时候再细查
了，有了重要概念、框架的支撑，往下往细里面走就好办了吧。

</p>

<p>
明天玩玩新的东西。

</p>

<h4><a href="CategoryProgramming.html">CategoryProgramming</a> / <a href="2014-12.html#p4">Permalink</a> </h4>

<p>
<!-- date: 2014-12-25T22:16:40+0800 -->

</p>

<h2>14年12月24日 周三 15:29</h2>

<h3>NSThread、NSRunLoop、GCD、__block</h3>

<p>
因为想求职 Objective-C 开发的原因，被问到了一些很基础的问题，而我做 iOS
App 已经是一年以前的事情，且也没有那么系统地学习过，所以就慢慢把这些补齐。

</p>

<p>
我是从 POSIX 的 pthread 入门了解多线程的，用过 mutex 这些临界区保护的方
法，对于 Mac Objective-C 这边的多线程，对应的是 NSThread。

</p>

<p>
建立多线程是为了同步做一些事情，不影响界面的响应等等，这些事情要么是纯计
算的，要么是各种事件的处理，对于这些事件的检测以及处理，Objective-C 是放
到 NSRunLoop 里面去的，感觉跟满足了 select 以及 epoll 条件下的大括号块差
不多吧。

</p>

<p>
NSRunLoop 就是一个内部循环的结构，一定是从属于某个线程的，要么是属于主线
程，要么是属于自己创建的线程。

</p>

<p>
下面的例子是建立了一个 NSRunLoop 响应一秒一次的 NSTimer，这个 NSRunLoop
是跑在一个单独的线程（非主线程）里的。

</p>

<pre class="source">- (<span class="type">void</span>)<span class="function-name">timer_entry</span>:(<span class="type">NSTimer</span>*)<span class="variable-name">t</span>
{
    NSLog(@<span class="string">"timer is main thread %d"</span>, [<span class="type">NSThread</span> isMainThread]);
}

<span class="keyword">static</span> <span class="type">int</span> <span class="variable-name">_newThreadAborted</span>;

- (<span class="type">void</span>)<span class="function-name">thread_entry</span>:(<span class="type">id</span>)<span class="variable-name">param</span>
{
    NSLog(<span class="variable-name">@</span><span class="string">"enter thread"</span>);
    @autoreleasepool {
        <span class="type">NSTimer</span> *<span class="variable-name">t</span> = [<span class="type">NSTimer</span> timerWithTimeInterval:1
                                              target:<span class="keyword">self</span>
                                            selector:<span class="keyword">@selector</span>(timer_entry:)
                                            userInfo:<span class="constant">nil</span>
                                             repeats:<span class="constant">YES</span>];
        <span class="type">NSRunLoop</span> *<span class="variable-name">r</span> = [<span class="type">NSRunLoop</span> currentRunLoop];
        [r addTimer:t forMode:NSDefaultRunLoopMode];
        <span class="keyword">while</span> (<span class="negation-char">!</span>_newThreadAborted) {
            [r runMode:NSDefaultRunLoopMode beforeDate:[<span class="type">NSDate</span> distantFuture]];
            NSLog(@<span class="string">"should not reach here until loop ending"</span>);
        }
        NSLog(@<span class="string">"thread aborted"</span>);
    }
}

- (<span class="type">void</span>)<span class="function-name">applicationDidFinishLaunching</span>:(<span class="type">NSNotification</span> *)<span class="variable-name">aNotification</span> {
    <span class="comment-delimiter">// </span><span class="comment">Insert code here to initialize your application
</span>    
    NSLog(@<span class="string">"is main thread %d"</span>, [<span class="type">NSThread</span> isMainThread]);
    
    <span class="type">NSThread</span> *<span class="variable-name">t</span> = [[<span class="type">NSThread</span> alloc] initWithTarget:<span class="keyword">self</span> selector:<span class="keyword">@selector</span>(thread_entry:) object:<span class="constant">nil</span>];
    [t start];
}
</pre>


上面的例子 NSRunLoop 添加了一个 NSTimer 事件源，同样的可以添加其他的事件
源，比如鼠标、键盘的，这样就可以在某个线程的 NSRunLoop 里面处理具体的事
情了，且不影响主线程。

</p>

<p>
如果 NSRunLoop 里面 while 了一个死循环，这个线程就做不了其他事情了。如果
这个 NSRunLoop 是在主线程里面，界面就会卡住，一个 NSThread 里面只能有一
个 NSRunLoop，新建立的线程会在调用获取 NSRunLoop 的时候创建。

</p>

<p>
而 GCD （Grand Central Dispatch） 我觉得中文网络上面的信息挺不错的，也许
也是因为自己之前已经使用了不少了吧，也因为使用的简单，所以当时的项目里面
也让我不需要去关注 NSThread 跟 NSRunLoop 了。

</p>

<p>
具体的使用其实就是构建一个闭包函数，跟 Lua 里面的闭包效果一样，所以这样
的函数也可以作为值传递了。

</p>

<p>
比较需要注意的是栈上的闭包函数与堆上的闭包函数的区别，其生命周期是不一样
的。

</p>

<p>
另外就是闭包内部访问外部的变量值，若是栈上的变量，则是取建立闭包时的值，
若无 __block 修饰，则是建立闭包函数时拷贝到闭包结构里面的值，这个变量在
闭包内部与外部已经没有文法上的联系了，具体表现就是闭包内部修改不影响外面
的变量，外部的修改不影响闭包内部同名的变量。

</p>

<p>
若加了 __block 修饰，则在文法上面，两者是联系在一起的，闭包内部以及上下
文可以访问到的地方都可以修改，具体的存储地址呢则看闭包是放在栈上还是堆上
了，也就是这个变量实际是跟随闭包的变量。

</p>

<p>
对了，其实还有全局区的闭包，我觉得只要区别不是栈上的闭包就好了。

</p>

<h4><a href="CategoryProgramming.html">CategoryProgramming</a> / <a href="2014-12.html#p3">Permalink</a> </h4>

<p>
<!-- date: 2014-12-24T15:29:33+0800 -->

</p>

<h2>14年12月10日 周三 21:47</h2>

<h3>OpenGL 3.3 under MacOS (2)</h3>

<p>
终于查明原因了，并不是 GLFW 不堪用的问题，而是需要在 glGenBuffers 之前，
先跑下面：

</p>

<pre class="source">    glGenVertexArrays(1, &amp;vaoHandle);
    glBindVertexArray(vaoHandle);
</pre>


当然，那些诸如 &#60;Learning Modern 3D Graphics Programming&#62; 的书上面是没有
这两句代码的。

</p>

<p>
蛋疼呀。

</p>

<h4><a href="CategoryProgramming.html">CategoryProgramming</a> / <a href="2014-12.html#p2">Permalink</a> </h4>

<p>
<!-- date: 2014-12-10T21:47:14+0800 -->

</p>

<h2>14年12月9日 周二 19:42</h2>

<h3>OpenGL 3.3 under MacOS</h3>

<p>
其实我想说的是在黑苹果下的情况，一般阿婆是只打开 OpenGL 2.1 而已的，用
X11 XQuartz 或者 GLEW，都无法使用 OpenGL 3.3 的，对于我这个初学者来说，
想从 Modern OpenGL 入门，痛苦不堪。

</p>

<p>
首先，还是先确认黑苹果在硬件上能够支持的 OpenGL API 版本吧，App Store 上
下载 OpenGL Extensions Viewer 来确认硬件情况，比如我的是 GeForce 310，是
能够支持到 OpenGL 3.3 Core 的。

</p>

<p>
剩下的就是驱动问题了，谷歌得到的结果是建议用新的 GLFW 而不是 GLUT 或者
GLEW 来做，GLFW 在 MacOS 下默认也只打开 OpenGL 2.1 而已，听说要这样才能
打开 3.3 的 Core：

</p>

<pre class="source"><span class="keyword">static</span> <span class="type">void</span> <span class="function-name">using_opengl_version_330</span>(<span class="type">void</span>) {
    glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 3);
    glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 3);
    glfwWindowHint(GLFW_OPENGL_PROFILE, GLFW_OPENGL_CORE_PROFILE);
    glfwWindowHint(GLFW_OPENGL_FORWARD_COMPAT, GL_TRUE);
}
</pre>


设置完之后，我就按教程走了，但是，又出现了意外的情况，在我的黑苹果上面，
#version 330 的 shader 源码都编译链接过了，但就是没有显示，窗口里面都是
黑的。总之 OpenGL 2.1 可以，3.3 就是不行。即便 glClear 颜色显示 OK，loop
循环也有走。

</p>

<p>
又不甘心使用 OpenGL 2.1 呢，只好救助于 Apple 原生的系统接口看看了，还好
谷歌查到了不错的东西 <a href="https://developer.apple.com/library/mac/samplecode/GLEssentials/Introduction/Intro.html">GLEssentials</a>，是官方提供的 Objective-C 使用 OpenGL
3.3 API 编程的例子。

</p>

<p>
立马左上角的 "Download Sample Code"，XCode 打开工程瞬间编译完成，看了一
下接口以及 Shader，确认是使用 OpenGL 3.3 接口无疑，demo 也挺高大上的，果
然官方的东西就是妥妥的。

</p>

<p>
之前依靠跨平台各种库、以及过时的库起步，加上黑苹果的原因吧，缓慢起步。

</p>

<h4><a href="CategoryProgramming.html">CategoryProgramming</a> / <a href="2014-12.html#p1">Permalink</a> </h4>

<p>
<!-- date: 2014-12-09T19:42:30+0800 -->

</p>

<h2>14年12月1日 周一 22:53</h2>

<h3>实践了一个 JPEG 解码器</h3>

<p>
为了更好地了解 JPEG 的解码过程，实践了一个 JPEG 解码器，放到个人 github
上面了，<a href="http://github.com/lalawue/jpeg_dec">http://github.com/lalawue/jpeg_dec</a>.

</p>

<p>
参考了不少中英文资料，更多的是中文的，marker 的部分倒是看了 itu-81 的图表。

</p>

<p>
不需要用 shadowsocks 翻墙技能，仅靠百度到的中文博客歪歪斜斜排版杂乱不堪
的文章，其实也能从无到有实践一个 JPEG 解码器。

</p>

<p>
也参考了不少 nanojpeg 的代码以及处理流程，最复杂的部分，在我看来是霍夫曼
编码的生成，是自己理解得不好，数据结构课上面的霍夫曼编码部分忘得差不多了。

</p>

<p>
而 nanojpeg 包括 public domain 的 c++ jpegd 实现的霍夫曼码，其生成我感觉
都不明晰，所以花了不少时间。这个部分倒是中文的某些博客写得很清楚，虽然这
些博客其实也是不知道从哪里抄的（未必是博主第一手资料，且有些还无来源）。

</p>

<p>
实现了霍夫曼表后，接下来的困难是 IDCT 的部分，看了几个解码库的，包括
libjpeg 的，README 里面写得明明白白：

</p>

<pre>
If you think that you know about DCT-based JPEG after reading this book,
then you are in delusion.
</pre>

<p>
所以就不琢磨了，说不好都是优化过的代码，调试出来的，不是给人看的，这部分
直接来自 nanojpeg，是一个整型使用位移调整精度的 IDCT 算法，传说的 AA&N
算法，如 libjpeg 里面的，没有看得很明白，其实 jpgd c++ 用的跟 libjpeg 一
样，有用到浮点就是。

</p>

<p>
然后是一些细节问题，估计看 ITU-81 里面也难看得明白，比如霍夫曼的 VLC 部
分其实我是根据 nanojpeg 的输出比对排错的、IDCT 的部分也是；还有读到
0xffd9 后补齐 bits 的问题，都补 binary 1；以及每个 component 的 dc
restart interval 问题等等。

</p>

<p>
八卦一下，Mac 下面预览导出的 jpeg 图片，霍夫曼表是一个 DHT segment 带一
个的，PS 则是一个 DHT segment 带多个的。

</p>

<p>
前人也总结了太多有关 JPEG 结构、解码所需要的知识，这里不重复了，评论下看
到的一些源码吧。

</p>

<p>
首先目前自己实现的是一个仅支持 Baseline DCT、H1V1 chroma sampling、YCbCr
色彩的 JPEG decoder。其实绝大部分的 JPEG 都是 Baseline、H1V1 的，Gray
Scale 其实要比 YCbCr 的简单，再看看后续要不要加上。

</p>

<p>
nanojpeg 为了实现的简单，资源都全部先申请，包括输出的图片缓冲，亮点是为
了霍夫曼解码的方便，每个霍夫曼表开了个 1^16 条目的数组，将最多 256 个实
际变长码 map 到里面去，这种 LUT 的时间效率没得说了，它自己也介绍说解码时
间上面只比 libjpeg 慢一点点（不支持多线程）。不过空间使用率到了这个地步，
为啥不像下面的解码库一样，对 YUV 转 RGB 也先做 LUT 呢。

</p>

<p>
而 jpgd c++ 是个 public domain 的解码库，看了一下作者，之前在 Valve 呢，
现在项目合并到了 JPEG encoder 里面去，最后的更新是 2012 年的。其霍夫曼变
长码是将常用的长度小于 8 bits 的 VLC map 到一个 1^8 的空间里面去，剩下的
放到一个 512 大小的空间里面进行二次查询，两个 LUT 加上一个顺序查找的空间
（应该是顺序查找的吧，命名为 tree 的）。

</p>

<p>
小于 7 bits 的变长码，一次 lookup 就可以定位，超过 7 bits，则需要一个个
bits 来顺序检测并跳转查找了。

</p>

<p>
jpgd c++ 的最大亮点，在于将 YUV 转 RGB 的部分，做了 LUT。这个空间消耗很
小，比 nanojpeg 丧心病狂的 1^16 LUT 空间少了 N 个数量级，且效率很显著，
特别是当图片变大，像素越来越多的时候。

</p>

<p>
后续有时间，我也想弄一个稍微改进点的霍夫曼变长码检测方法、以及 YUV 转RGB
的 LUT，目前霍夫曼编码部分是完全按照位数长度从小到大顺序检测的，非常非常
耗时，只是作为一个样例来理解的话，倒还好。

</p>

<h4><a href="CategoryProgramming.html">CategoryProgramming</a> / <a href="2014-12.html#p0">Permalink</a></h4>

<p>
<!-- date: 2014-12-01T22:53:41+0800 -->

</p>

<h2>14年5月23日 周五 21:49</h2>

<h3>有关 AOSP</h3>

<p>
荣耀 3X 的新机出来了，叫做 3X pro，也还是 1698 元，然后上到了 1080p，之
前论坛说的什么 720p 续航优势啊之类的，算是打了自己嘴巴，真的是不能再相信
500 强了。

</p>

<p>
然后开心的事情是，虽然官方 3X 固件不给力，但是有个移动叔叔论坛的 wasser
大侠修改 MTK 的 AOSP 固件却十分给力，操作速度上来了，然后耗电也还好，那
个重力工具箱十分好用，包括锁屏亮背光当手电筒，调整屏幕亮度，设置物理按键
功能等，相当给力，一点卡顿都没有，真正发挥了八核的威力，且不怎么耗电。

</p>

<p>
自从我停用了 LT 光感解锁后，一般都能用两天以上了，才发现 LT 是真耗电。

</p>

<p>
没想到对于我来说，操作省心、省电好用的固件不是官方的，并且对 AOSP 的好感
也慢慢上升。

</p>

<p>
总之比华为的官方固件好太多，话说自从 3x pro 出来后，很明显对于 3x 的支持，
也会慢慢减弱，比如那个双击亮屏的固件，就一直空缺，3C 有而 3X 没有。

</p>

<h4><a href="CategoryLife.html">CategoryLife</a> / <a href="2014-05.html#p0">Permalink</a> </h4>

<p>
<!-- date: 2014-05-23T21:49:45+0800 -->

</p>

<h2>14年4月8日 周二 00:42</h2>

<h3>荣耀 3X 风波</h3>

<p>
使用华为荣耀 3X 超过一个月了，总体来说这台机子能用，如果是移动、联通双卡
用户（双 3G），且在意手机续航，又要大屏幕的，应该蛮适合。但也得忍受一些
不小的毛病。

</p>

<p>
屏幕部分黑色色阶显示不好，特别是固件版本 123 以前（具体版本号不记得了），
最近的版本好一些，不晓得是不是也跟分辨率有关，还是说是硬件问题（屏幕硬件
色深不够），总之肯定是远远比不上两年半以前的 4s 的。

</p>

<p>
外放很渣，声音偏小，最近的固件版本特别是开发版会好一些，论坛上面有推荐
MTK 增大音量的，有作用，但是也有副作用，就是最小音量也提升了，这样晚上听
耳机会没法调小声，我电话比较少，觉得不值得用这个补丁，且这个补丁需要普通
用户 root 手机，表面上需要放弃保修权，而官方没有更好的解决办法，这个套用
广告 500 强是丢华为自己的脸，毕竟 3X 已经推出来有 3 个月了。

</p>

<p>
我上面说的外放的问题是基于这台手机 1700 元售价说的，如果说 1700 售价都是
这样的外放水平，那我也没话说了。通俗点说，这台手机我不敢放歌曲做铃声，特
别是有人声的歌曲，没法听。

</p>

<p>
继续黑 3X，后盖很薄，换电池是优点，但是后盖这么薄，手按上去就会卡卡响，
边框扣得也不是很好。我第一台安卓手机 i9000 的运营商定制版 i897，后盖就好
得不得了，我老爸还在用，当然金属后盖，且是推拉扣上、打开的。那台机子就更
早了，应该是 10 年还是 11 年买的。

</p>

<p>
我也是基于自己认为 1700 元的售价不应该用这么差的后盖，起码厚一点吧，控制
重量也许是需要薄一些，但是现在这个后盖看起来太廉价了，比山寨机还山寨，这
个薄的不是地方。

</p>

<p>
说完了产品，说说服务本身。

</p>

<p>
3 月 20 号左右，小米推出了米 note，华为马上推出了 3X 畅玩版，作为一个刚
买 3X 才两周的用户，表示内心觉得被华为卖了。

</p>

<p>
分几个方面解读，先从 3X 用户的角度说，我自己的例子。我买华为 3X，对比机
型是魅族 MX3，RE 版 1799，当时 HTC 的 M816 还没流出，早知道的话我也许会
选 M816 或者 MX3，前者续航也是考虑，或者屏幕太好，最后考虑的结果华为是大
厂，是国货、民族品牌，且我想要一个中端点的牌子。

</p>

<p>
可是 3X 畅玩一出来，在我心里面就觉得华为直接宣布同样配置的新手机，今天只
要 998 了，这不是明摆着骗钱吗，手上的货两周跌 700（原价 1700），谁受得了。
而且伤害的是愿意多花点钱买 1700 而不是等待 998 的人，这个价位的手机溢价
更多，不过出货量少也就被华为自己毙了。

</p>

<p>
从华为的角度出发，则是从一开始就没考虑过保护 3X 用户，3X 畅玩版这个名字，
甚至让我这个 3X 用户觉得，是利用 3X 在荣耀品牌里高配置中端机这个噱头，来
衬托畅玩版本身的性价比，你这个当老用户是提款机呀，当冤大头不是。

</p>

<p>
这个营销打 -60 分，后来新的广告也印证了这一点，现在叫真八核畅玩版了，营
销太弱了。

</p>

<p>
这个保护、用心，还体现在其官方论坛上，从时间的维度出发，华为对 3X 用户一
点点的保护都没有，发布前没有打预防针，发布后最开始甚至一度在论坛里面强力
舆论造势 3X 用户脑袋坏了（在其官方论坛内部水军喷的内容看）。

</p>

<p>
当然发布第二天是个高峰，很多潜水的 3X 用户都受不了（当然夹杂一些水军），
都到论坛发帖质问，估计华为内部水军也开会了，认为强力打压效果不好，然后改
成描述 3X 与 3X 畅玩版的不同，这 700 元差价在哪里，当然没有一句真话。

</p>

<p>
再往后，估计又开会了，改成安慰为主。

</p>

<p>
话说人家买 3X 的看到厂家对另外一个也叫 3X 的降价这么快当然心里非常不爽，
对这个品牌马上就认为掉价了，当然我现在也不认为这台手机是中端了，只是当时
用户的心情趋于被欺骗，特别是厂商宣布自己是民族品牌，世界 500 强，这种反
差的感觉就越强烈，加上论坛里面内部水军对质疑用户的强硬反馈，而不是安慰或
疏导，直接在这部分用户的心目中，把这个品牌的形象全砸了。

</p>

<p>
我也发帖，也看了不少 3X 用户的发帖，都只是想要大公司讨个说法而已，但这个
说法延迟了好几天，一直到现在都没有来，毕竟其实早就没有说法，吞下去的钱难
道还吐出来。

</p>

<p>
所以不少 3X 用户转成了花黑，而不是花粉，天天上去喷，这是厂商自找的，根本
就不会体会用户的感受。

</p>

<p>
然后我想说一下，我这段时间被封了 3 个账号，最开始的那个账号被禁言了 7 天，
最近又能登上去了。

</p>

<p>
另外我还想黑一下那个论坛，表面看起来是官方与用户之间有了沟通的渠道，而现
实呢，只是官方了解用户的一个渠道而已，官方通过这个渠道发布权威的消息，另
外通过这个渠道确定死忠（或者脑残）的用户，然后通过水军、删帖、禁言来控制
舆论导向，虽然在大水面前论坛第一页依然全是黑的。

</p>

<p>
3X 用户们在论坛上面发布过无数的帖子求这个大屏手机推出双击亮屏的驱动，几
个月过去了，根本没有一点消息，3C 的用户早就享受到了，可是 3X 没有，估计
是用户量太少，驱动不给适配；或者黑一点的说法，是官方要卖自己的唤醒皮套，
才不会推出双击亮屏的驱动呢；说影响续航的可以停一下，因为这个可以做成开关
的，你想用的话自己权衡不就是了。

</p>

<p>
所以，表面上看起来是用户提出需求，厂家就会想方设法满足，实际上，从来没有
这回事，这个沟通渠道看起来是通的而已，具体功能有什么，该有什么就有什么呗，
关用户什么事呀。

</p>

<p>
我需要了解你，需要研究你，需要让你保持希望，乐于等待，但是我才不会满足你呢。

</p>

<p>
而且我有了这个官方的论坛，你那些不大不小的事情，就过来黑吧，让你在失望中
看到一点点的希望，你能怎么样，还能上报纸上新闻不成，等你论点一出来，我就
黑你不安好心，是外部水军，专门黑华为，黑好不容易有了声名的民族品牌，好吧，
删了你的帖再说。

</p>

<p>
对了，不仅仅是官方论坛这样，百度贴吧里面水军依然是很强势的，貌似脑残也不
少，吧名就叫某某品牌手机吧，但是不准说那个手机的坏消息，这个太搞笑了，维
稳维到贴吧里面来了。

</p>

<p>
从 3 月 20 号，包括接下来的几天，我想我也认真思考了目前所谓的民族品牌、
世界500 强，我觉得言过其实，产品本身差一些，服务就差更远了，至少从 3X 这
个风波的情况来看。

</p>

<p>
简单不加思考的解释，是目前这个环境不适合买超过 1000 块的国产手机，只是堆
材料堆性能，材料工艺还不够，高一点价格的手机未必就值那个价钱，从短时间降
价的幅度可以看出来，另外，这个占领价格制高点的风气太盛，因此也少了些因为
精致而值得购买的国产手机，步步高也许算吧，毕竟人家走的是高端路线。

</p>

<p>
那些走量的手机，就当玩具买吧，好不到哪里去，应该也不会一无是处。

</p>

<h4><a href="CategoryLife.html">CategoryLife</a> / <a href="2014-04.html#p0">Permalink</a> </h4>

<p>
<!-- date: 2014-04-08T00:42:37+0800 -->
<h2>14年3月2日 周日 23:52</h2>

<h3>买了个华为荣耀 3X</h3>

<p>
水果用得烦了，小屏幕相比之下憋屈，也受够了电量不足，总是提心吊胆各种传感
器注意关闭，状态栏突然间一片转红，再给你嘟一声，静音都没用。于是就想着买
个 2K 以下 5 寸屏续航牛逼的，确实没钱了。

</p>

<p>
首先考虑的是 MX3，可是续航太渣，贴吧上各种质量贴满天飞，煤粉绝对是真爱呀，
吧里一直置顶回复无数的精华帖是教授如何通过复杂的设置降低电量消耗的，小白
就自觉点不要趟这个坑了。

</p>

<p>
其实早在 2 年前我玩 I897 时就已经刷机无数次，可是水果惯下来后，就不想这
么折腾了，这也是 I897 玩到后期的心得，真的累了。

</p>

<p>
我都到魅族实体店摸过无数次 MX3 了，屏幕真心好，边框真心窄，第一眼喜欢、
第二眼还是喜欢，但要小心供着这个让人头疼，或者出个厚底的装个大号电池也不
错呀。

</p>

<p>
还考虑了 TCL 最近 1999 的 idol x+，第一眼的感觉绝对惊艳，特别是白色， 可
是貌似质量也不怎么样，续航也渣，乐蛙 ROM 也有不少的坑。

</p>

<p>
3X 也不是太好的选择，但是比较折衷吧，5.5 寸屏貌似过大了，720P 也不算只能
算中等，MTK 8 核是个噱头，但是卖到 1700 的期货价，就不厚道了。可是续航极
好，3K 毫安的电池足够你折腾一天，这个江湖上貌似不多。

</p>

<p>
当时我还算了一下 PPI，5.5 寸屏 720P，跟 iPad Air 一样是 267 PPI 的，iPad
Air 我是天天用，分辨率感觉很好呀，所以我不是很担心那个分辨率的问题，到手
后发觉也是如此，话说华为 ROM 其实有优化字体等等，分辨率是完全足够。

</p>

<p>
我摸过 MX3，3X 对比之下，外观其实是老土的，特别是后背，所以我买个了个好
点的背壳，又加厚加重了一点，算是小小弥补。

</p>

<p>
MX3 屏幕已经被大家各种研究了，3X 的屏幕颜色等等其实不算好，首先不是大猩
猩玻璃，所以自己得贴 9H 的膜，字体显示是可以的，ROM 功能分类设置也不错，
比当年的三星好多了，但我感觉它的调色不对，要么就是这块 IPS 屏幕色域太窄，
总之黑色的深度展现不出来，黑色的地方太浓，分不清层次，图片库里面的sample
图片都是高亮的估计能说明一点问题。从 4s 过来的真是一眼就能看穿。

</p>

<p>
还有外放的喇叭很渣，我试过插水果的线控耳机，声音很奇怪，不正常，听说是华
为的 3.5mm 音频输出的线序跟水果的不一样，这个我没研究，不懂了。

</p>

<p>
所以，来电铃声啥的，就别想高大上了，再说外放的音量也很不足。

</p>

<p>
3X 还有一点让我很不满意的地方，是它的 WIFI 不稳定，不过我也很奇怪不晓得
是不是我的路由器的原因，手头的 4s 是一直都很稳定的，可 iPad Air 也同样有
这个问题，就是状态栏的信号明明是很足的，可是数据却出不去，也收不到，需要
飞行一会儿再重开 wifi 才行。

</p>

<p>
3X 出货的固件版本是 B123，最新开发版的是 B604，说是解决了 wifi 的问题，
可是却要卡刷，我还没有 micro sd 卡呢，还得买，折腾。

</p>

<p>
系统的各种省电防护、权限设置，UI 的交互等等，是相当方便且舒服的，这个得
赞一下，Emotion UI 进化到 2.0 了，花粉团也遍布全国了。

</p>

<p>
开着 WIFI 和移动数据挂了一整天的微信、QQ，发现了个微信的问题，就是省电管
家提示微信 5.2 耗电过高，跟谷歌同步框架一样耗电，可是手机 QQ 却远比他们
少得多。百度上隐隐约约的也提到这个问题，然后换成了微信 5.1，貌似就好了，
不过我还得再跑一整天看看看数据才能下定论。

</p>

<p>
暂时评价是这样，再跑一两周后看看是不是还有更多的槽要吐。

</p>

<p>
话说很早之前买的 Noppoo Choc Mini 84，虽然也有点小问题，不过真的习惯了机
械键盘之后，就很不习惯薄膜键盘了，过年在家用的都是薄膜键盘，深刻的体会呀。

</p>

<h4><a href="CategoryLife.html">CategoryLife</a> / <a href="2014-03.html#p0">Permalink</a> </h4>

<p>
<!-- date: 2014-03-02T23:52:24+0800 -->

</p>

<h2>14年2月28日 周五 15:08</h2>

<h3>玩了一下 2D 骨骼动画</h3>

<p>
春节前忙着出了一个只包含战斗场景的 demo，还没有动画部分，那时候这部分还
不熟悉，可没想到年后好懒散，一直弄到现在才把动画部分弄出来了一个样子。

</p>

<p>
年后也玩到了一些新的卡牌游戏，动画之精美、动作之合理连贯，让我总觉得那些
动画不像是用程序里面调出来的，而是像用动画编辑器做的。

</p>

<p>
反正我也要研究这部分，索性就大框架都看了一遍。cocos2dx 里面的 actions 就
不说了，那是基础。

</p>

<p>
不过涉及到人物复杂一点的动作，比如跑动、跳跃、攻击，这些如果用 actions
来调整，那真是头大了，且程序也不用调整那么细的部分。

</p>

<p>
这些其实是 2D 骨骼动画，之所以不用序列帧，是因为序列帧太费存储空间了。

</p>

<p>
基于 cocos2dx 的有 spine、dragonbones 以及官方的 cocostuido，其实我觉得
cocostudio 是很浅显易用的，只是导出的数据只能用在 cocos2dx 2.2.2 版本上，
可我是基于 quick-cocos2dx 来做的，这边提供的 CCArmature 版本是 2.1.5 的
呀。

</p>

<p>
所以播放出来的动画坐标都不对，我花了几个小时将 2.2.2 的 CCArmature 移植
到了 quickx 上，可是动画的前面几帧时间轴不对，总是太快，不晓得是不是新版
本底层的有了更新。

</p>

<p>
网上搜到了 zrong 修改的 Flash Pro dragonbones 插件，介绍说这部分在 2.1.5
上面效果很好，zrong 本身就经常出没于 quickx 邮件列表，我可是潜水很久了。

</p>

<p>
之所以一开始不考虑 dragonbones，一方面是担心兼容，另外就是觉得那个方向制
作工具、套件的复杂。 

</p>

<p>
Flash Pro 确实是大块头，黑苹果本来没装有，我不得不重新下载一个新的，而原
来的 Adobe Extention Manager 还老是闪退，又下了一个新的，然后又花了一个
下午的时间才弄懂 Flash Pro 上面怎么玩动画。

</p>

<p>
从程序员的眼光来看，感觉相比 cocostudio 的入手难度大多了，不晓得从动画制
作师的角度看如何。

</p>

<p>
不过这个学习成本到最后发现还是值得的，播放的效果很好，然后缓动也很好，引
擎计算的插值帧也很好，还有骨骼动画确实是要构造骨骼关系才行，否则缓动计算
的骨骼运动路径是不对的。

</p>

<p>
又学会了一些东西，不过玩归玩，实际上我的游戏估计用不上这么高级的东西，老
老实实玩 actions 就好了。

</p>

<h4><a href="CategoryProgramming.html">CategoryProgramming</a> / <a href="2014-02.html#p0">Permalink</a> </h4>

<p>
<!-- date: 2014-02-28T15:08:59+0800 -->

</p>

<!-- Page published by Emacs Wiki ends here -->
<div id="foot">2004-<script language="javascript">var d = new
	Date();document.write(d.getFullYear())</script> &copy;
	Sucha. Powered by EmacsWikiJournal.
</div>
</div><!-- sidebar -->
  <div id="sidebar">
      <p class="header">Here</p>
      <ul>
        <li><a href="../index.html">Home</a></li>
        <li><a href="index.html">Front</a></li>
        <li><a href="../scratch/ThisSite.html">This Site</a></li>
        <li><a href="../live/AboutMe.html">About Me</a></li>
        <li><a href="../cs/EmacsWikiJournal.html">Emacs Wiki Journal</a></li>
      </ul>

      <p class="header">Calendar</p>
      <div class="calendar"><table><caption>December 2014</caption><thead><tr><th>Su</th><th>Mo</th><th>Tu</th><th>We</th><th>Th</th><th>Fr</th><th>Sa</th></tr></thead><tr><td></td><td><a title="实践了一个 JPEG 解码器" href="2014-12.html#p0">1</a></td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td></tr><tr><td>7</td><td>8</td><td><a title="OpenGL 3.3 under MacOS" href="2014-12.html#p1">9</a></td><td><a title="OpenGL 3.3 under MacOS (2)" href="2014-12.html#p2">10</a></td><td>11</td><td>12</td><td>13</td></tr><tr><td>14</td><td>15</td><td>16</td><td>17</td><td>18</td><td>19</td><td>20</td></tr><tr><td>21</td><td>22</td><td>23</td><td><a title="NSThread、''''NSRunLoop、GCD、__block" href="2014-12.html#p3">24</a></td><td><a title="ObjC Core Data" href="2014-12.html#p4">25</a></td><td>26</td><td><a title="ObjC Animation" href="2014-12.html#p5">27</a></td></tr><tr><td>28</td><td><a title="My First Mac App - ''''TcBrowserMac" href="2014-12.html#p6">29</a></td><td>30</td><td>31</td></tr></table></div>

      <p class="header">Search</p><!-- Google Search -->
      <form id="searchform" method="get"
	    action="http://www.google.com/search" >
	<p><input id="searchtext" type="text" name="q" value="" /></p>
	<p><input type="hidden" name="ie" value="utf-8" /></p>
	<p><input type="hidden" name="oe" value="utf-8" /></p>
	<p><input type="hidden" name="hl" value="zh-CN" /></p>
	<p><input type="hidden" name="domains" value="suchang.net" /></p>
	<p><input name="si" type="hidden" value="suchang.net" /></p>
	<p><input type="hidden" name="sitesearch" value="suchang.net" /></p>
      </form>

      
      <p class="header">Feeds &#38; Contact</p>
        <ul>
          <li><a id="rss_feeds" title="墙内地址 http://suchang.net/blog/rss.xml" href="http://feeds.feedburner.com/sc6349">RSS</a></li>
          <li><a href="mailto:suchaaa@gmail.com">Mail me</a></li>
        </ul>

      <p class="header">Categories</p>

      <ul>
        <li><a href="CategoryLinux.html">GNU/Linux</a></li>
        <li><a href="CategoryProgramming.html">Programming</a></li>
        <li><a href="CategoryLife.html">Life &#38; essay</a></li>
        <li><a href="CategoryReading.html">Reading</a></li>
	<li><a href="CategoryThisSite.html">This Site</a></li>
        <li><a href="CategoryMisc.html">Misc</a></li>
      </ul>

      <p class="header">Links</p>
      <ul>
	    <li><a href="http://blog.csdn.net/g9yuayon/">G9</a></li>
        <li><a href="http://mrjamie.cc/">Jamie</a></li>
        <li><a href="http://www.ftchinese.com/column/007000002">朝九晚五</a></li>
        <li><a href="http://blog.codingnow.com/">CloudWu</a></li>
	    <li><a href="http://www.mindmeters.com/blogind.asp?id=253">All About S</a></li>
        <li><a href="http://www.drunkpiano-liuyu.net/">DrunkPiano</a></li>
	    <li><a href="http://ditu.google.cn/maps?hl=zh-CN&ll=22.626687,110.186691&spn=0.101883,0.15398&t=h&brcurrent=3,0x36adc425dfd47083:0xd77004f2b5f175d6,0,0x36adb6981be5ba57:0xbb22df1016a0dd2e%3B5,0,0&z=13">Yulin in Google Maps</a></li>
      </ul>

      <p class="header">Archives</p>
      <div class="archive_links"><ul><li><a href="2014-12.html">December 2014</a></li><li><a href="2014-05.html">May 2014</a></li><li><a href="2014-04.html">April 2014</a></li><li><a href="2014-03.html">March 2014</a></li><li><a href="2014-02.html">February 2014</a></li><li><a href="2014-01.html">January 2014</a></li><li><a href="2013-12.html">December 2013</a></li><li><a href="2013-11.html">November 2013</a></li><li><a href="2013-10.html">October 2013</a></li><li><a href="2013-09.html">September 2013</a></li><li><a href="2013-08.html">August 2013</a></li><li><a href="2013-07.html">July 2013</a></li><li><a href="2013-06.html">June 2013</a></li><li><a href="2013-05.html">May 2013</a></li><li><a href="2013-04.html">April 2013</a></li><li><a href="2013-03.html">March 2013</a></li><li><a href="2013-02.html">February 2013</a></li><li><a href="2013-01.html">January 2013</a></li><li><a href="2012-12.html">December 2012</a></li><li><a href="2012-11.html">November 2012</a></li><li><a href="2012-10.html">October 2012</a></li><li><a href="2012-08.html">August 2012</a></li><li><a href="2012-07.html">July 2012</a></li><li><a href="2012-06.html">June 2012</a></li><li><a href="2012-05.html">May 2012</a></li><li><a href="2012-04.html">April 2012</a></li><li><a href="2012-03.html">March 2012</a></li><li><a href="2012-02.html">February 2012</a></li><li><a href="2012-01.html">January 2012</a></li><li><a href="2011-12.html">December 2011</a></li><li><a href="2011-11.html">November 2011</a></li><li><a href="2011-10.html">October 2011</a></li><li><a href="2011-09.html">September 2011</a></li><li><a href="2011-08.html">August 2011</a></li><li><a href="2011-04.html">April 2011</a></li><li><a href="2011-02.html">February 2011</a></li><li><a href="2011-01.html">January 2011</a></li><li><a href="2010-12.html">December 2010</a></li><li><a href="2010-11.html">November 2010</a></li><li><a href="2010-09.html">September 2010</a></li><li><a href="2009-07.html">July 2009</a></li><li><a href="2009-06.html">June 2009</a></li><li><a href="2009-05.html">May 2009</a></li><li><a href="2009-04.html">April 2009</a></li><li><a href="2009-02.html">February 2009</a></li><li><a href="2009-01.html">January 2009</a></li><li><a href="2008-12.html">December 2008</a></li><li><a href="2008-11.html">November 2008</a></li><li><a href="2008-10.html">October 2008</a></li><li><a href="2008-09.html">September 2008</a></li><li><a href="2008-08.html">August 2008</a></li><li><a href="2008-07.html">July 2008</a></li><li><a href="2008-06.html">June 2008</a></li><li><a href="2008-05.html">May 2008</a></li><li><a href="2008-04.html">April 2008</a></li><li><a href="2008-03.html">March 2008</a></li><li><a href="2008-02.html">February 2008</a></li><li><a href="2008-01.html">January 2008</a></li><li><a href="2007-10.html">October 2007</a></li><li><a href="2007-07.html">July 2007</a></li><li><a href="2007-06.html">June 2007</a></li><li><a href="2007-05.html">May 2007</a></li><li><a href="2007-04.html">April 2007</a></li><li><a href="2007-03.html">March 2007</a></li><li><a href="2007-02.html">February 2007</a></li><li><a href="2007-01.html">January 2007</a></li><li><a href="2006-12.html">December 2006</a></li><li><a href="2006-11.html">November 2006</a></li><li><a href="2006-10.html">October 2006</a></li><li><a href="2006-09.html">September 2006</a></li><li><a href="2006-08.html">August 2006</a></li><li><a href="2006-07.html">July 2006</a></li><li><a href="2006-06.html">June 2006</a></li><li><a href="2006-05.html">May 2006</a></li><li><a href="2006-04.html">April 2006</a></li><li><a href="2006-03.html">March 2006</a></li><li><a href="2006-02.html">February 2006</a></li><li><a href="2006-01.html">January 2006</a></li><li><a href="2005-12.html">December 2005</a></li><li><a href="2005-11.html">November 2005</a></li><li><a href="2005-10.html">October 2005</a></li><li><a href="2005-09.html">September 2005</a></li><li><a href="2005-08.html">August 2005</a></li><li><a href="2005-07.html">July 2005</a></li><li><a href="2005-06.html">June 2005</a></li><li><a href="2005-05.html">May 2005</a></li><li><a href="2005-04.html">April 2005</a></li><li><a href="2005-03.html">March 2005</a></li><li><a href="2005-02.html">February 2005</a></li><li><a href="2005-01.html">January 2005</a></li><li><a href="2004-12.html">December 2004</a></li><li><a href="2004-11.html">November 2004</a></li><li><a href="2004-10.html">October 2004</a></li><li><a href="2004-09.html">September 2004</a></li></ul></div>

    </div><!-- sidebar -->
   </div> <!-- body -->
  </body>
</html>
